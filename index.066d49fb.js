const e=document.querySelector("[name=searchQuery]"),n=document.querySelector(".header__search-button"),i=document.querySelector(".films__grid");console.log(e);let t="";const a={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmZmEwYTgwNDZiYWRmMDlmOGM2MWVhOWMwNjFkMjc1ZCIsInN1YiI6IjY1MGM0MDg4NDRlYTU0MDBjNjMxZDVjMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QCvrUYw290qbZ5ir3M1mVaFysI8g2yCPJXwVdcerhR4"}};e.addEventListener("input",(e=>{console.log(e.currentTarget.value),t=e.currentTarget.value})),n.addEventListener("click",(e=>{e.preventDefault(),async function(){return fetch(`https://api.themoviedb.org/3/search/movie?query=${t}&include_adult=false&language=en-US&page=1`,a).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}().then((e=>function(e){console.log(e.results);const n=[...e.results].map((({id:e,poster_path:n,original_title:i,genre_ids:t,release_date:a})=>{return`<li id="${e}" class="films__grid-item">\n        <a class="films__link">\n          <img src="https://image.tmdb.org/t/p/w500${n}"/>\n          <h2>${o(i)}</h2>\n          <p>${function(e){const n=[];if(r.map((i=>{for(const t of e)i.id===t&&n.push(i.name)})),n.length>=3){return n.slice(0,3).concat("Other").join(", ")}return"Other"}(t)} | ${c=a,c.split("-")[0]}</p>\n        </a>\n      </li>`;var c})).join("");i.innerHTML=n}(e))).catch((e=>console.log(e)))}));const r=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];let o=e=>e.length>30?e.slice(0,30).concat("..."):e;
//# sourceMappingURL=index.066d49fb.js.map
